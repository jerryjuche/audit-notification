<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta http-equiv="Cache-Control" content="no-cache,no-store,must-revalidate">
  <title>Nexus Audit · Real-Time Compliance Platform</title>
  <script src="fixed-script.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,500;12..96,600;12..96,700;12..96,800&family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,400&family=JetBrains+Mono:wght@400;500;600&display=swap"
    rel="stylesheet">

  <!-- SVG Icon Sprite -->
  <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
    <symbol id="ic-bell" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9" />
      <path d="M13.73 21a2 2 0 0 1-3.46 0" />
    </symbol>
    <symbol id="ic-send" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <line x1="22" y1="2" x2="11" y2="13" />
      <polygon points="22 2 15 22 11 13 2 9 22 2" />
    </symbol>
    <symbol id="ic-users" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
      <circle cx="9" cy="7" r="4" />
      <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
      <path d="M16 3.13a4 4 0 0 1 0 7.75" />
    </symbol>
    <symbol id="ic-radio" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <circle cx="12" cy="12" r="2" />
      <path
        d="M16.24 7.76a6 6 0 0 1 0 8.49m-8.48-.01a6 6 0 0 1 0-8.49m11.31-2.82a10 10 0 0 1 0 14.14m-14.14 0a10 10 0 0 1 0-14.14" />
    </symbol>
    <symbol id="ic-upload" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
      <polyline points="17 8 12 3 7 8" />
      <line x1="12" y1="3" x2="12" y2="15" />
    </symbol>
    <symbol id="ic-message" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
    </symbol>
    <symbol id="ic-bar-chart" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <line x1="18" y1="20" x2="18" y2="10" />
      <line x1="12" y1="20" x2="12" y2="4" />
      <line x1="6" y1="20" x2="6" y2="14" />
    </symbol>
    <symbol id="ic-terminal" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <polyline points="4 17 10 11 4 5" />
      <line x1="12" y1="19" x2="20" y2="19" />
    </symbol>
    <symbol id="ic-check" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"
      stroke-linecap="round" stroke-linejoin="round">
      <polyline points="20 6 9 17 4 12" />
    </symbol>
    <symbol id="ic-x" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"
      stroke-linejoin="round">
      <line x1="18" y1="6" x2="6" y2="18" />
      <line x1="6" y1="6" x2="18" y2="18" />
    </symbol>
    <symbol id="ic-alert" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <circle cx="12" cy="12" r="10" />
      <line x1="12" y1="8" x2="12" y2="12" />
      <line x1="12" y1="16" x2="12.01" y2="16" />
    </symbol>
    <symbol id="ic-info" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <circle cx="12" cy="12" r="10" />
      <line x1="12" y1="16" x2="12" y2="12" />
      <line x1="12" y1="8" x2="12.01" y2="8" />
    </symbol>
    <symbol id="ic-logout" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
      <polyline points="16 17 21 12 16 7" />
      <line x1="21" y1="12" x2="9" y2="12" />
    </symbol>
    <symbol id="ic-refresh" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <polyline points="23 4 23 10 17 10" />
      <polyline points="1 20 1 14 7 14" />
      <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15" />
    </symbol>
    <symbol id="ic-download" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
      <polyline points="7 10 12 15 17 10" />
      <line x1="12" y1="15" x2="12" y2="3" />
    </symbol>
    <symbol id="ic-search" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <circle cx="11" cy="11" r="8" />
      <line x1="21" y1="21" x2="16.65" y2="16.65" />
    </symbol>
    <symbol id="ic-reply" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <polyline points="9 17 4 12 9 7" />
      <path d="M20 18v-2a4 4 0 0 0-4-4H4" />
    </symbol>
    <symbol id="ic-shield" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
    </symbol>
    <symbol id="ic-wifi" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <path d="M1.42 9a16 16 0 0 1 21.16 0" />
      <path d="M5 12.55a11 11 0 0 1 14.08 0" />
      <path d="M8.53 16.11a6 6 0 0 1 6.95 0" />
      <line x1="12" y1="20" x2="12.01" y2="20" />
    </symbol>
    <symbol id="ic-wifi-off" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <line x1="1" y1="1" x2="23" y2="23" />
      <path d="M16.72 11.06A10.94 10.94 0 0 1 19 12.55" />
      <path d="M5 12.55a11 11 0 0 1 5.17-2.39" />
      <path d="M10.71 5.05A16 16 0 0 1 22.56 9" />
      <path d="M1.42 9a15.91 15.91 0 0 1 4.7-2.88" />
      <path d="M8.53 16.11a6 6 0 0 1 6.95 0" />
      <line x1="12" y1="20" x2="12.01" y2="20" />
    </symbol>
    <symbol id="ic-map-pin" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z" />
      <circle cx="12" cy="10" r="3" />
    </symbol>
    <symbol id="ic-phone" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <path
        d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07A19.5 19.5 0 0 1 4.72 12a19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 3.63 1h3a2 2 0 0 1 2 1.72c.127.96.361 1.903.7 2.81a2 2 0 0 1-.45 2.11L7.91 8.6a16 16 0 0 0 6.23 6.23l.96-.96a2 2 0 0 1 2.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0 1 22 16.92z" />
    </symbol>
    <symbol id="ic-whatsapp" viewBox="0 0 24 24" fill="currentColor">
      <path
        d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 0 1-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 0 1-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 0 1 2.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0 0 12.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 0 0 5.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 0 0-3.48-8.413z" />
    </symbol>
    <symbol id="ic-mail" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" />
      <polyline points="22,6 12,13 2,6" />
    </symbol>
    <symbol id="ic-key" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <path
        d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4" />
    </symbol>
    <symbol id="ic-user" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
      <circle cx="12" cy="7" r="4" />
    </symbol>
    <symbol id="ic-lock" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <rect x="3" y="11" width="18" height="11" rx="2" ry="2" />
      <path d="M7 11V7a5 5 0 0 1 10 0v4" />
    </symbol>
    <symbol id="ic-eye" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z" />
      <circle cx="12" cy="12" r="3" />
    </symbol>
    <symbol id="ic-building" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <rect x="2" y="7" width="20" height="14" rx="2" ry="2" />
      <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16" />
    </symbol>
    <symbol id="ic-clipboard" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" />
      <rect x="8" y="2" width="8" height="4" rx="1" ry="1" />
    </symbol>
    <symbol id="ic-trending" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
      stroke-linecap="round" stroke-linejoin="round">
      <polyline points="23 6 13.5 15.5 8.5 10.5 1 18" />
      <polyline points="17 6 23 6 23 12" />
    </symbol>
    <symbol id="ic-git" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <circle cx="18" cy="18" r="3" />
      <circle cx="6" cy="6" r="3" />
      <path d="M13 6h3a2 2 0 0 1 2 2v7" />
      <line x1="6" y1="9" x2="6" y2="21" />
    </symbol>
    <symbol id="ic-filter" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
      stroke-linejoin="round">
      <polygon points="22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3" />
    </symbol>
  </svg>

  <style>
    :root {
      --c0: #0f1923;
      --c1: #1a2535;
      --c2: #1e2d42;
      --c3: #243350;
      --c4: #2d3f60;
      --br0: #243050;
      --br1: #2d3f62;
      --br2: #3d5282;
      --t0: #e8f0fe;
      --t1: #8fa3c8;
      --t2: #5a7096;
      --t3: #3a4f72;
      --cyan: #1eb8d0;
      --cyan2: #0e8fa4;
      --cyan-gl: rgba(30, 184, 208, 0.18);
      --blue: #2563c4;
      --blue2: #1a4fa0;
      --blue-gl: rgba(37, 99, 196, 0.2);
      --green: #22c97a;
      --green-gl: rgba(34, 201, 122, 0.18);
      --amber: #f59e3a;
      --amber-gl: rgba(245, 158, 58, 0.18);
      --red: #ef4565;
      --red-gl: rgba(239, 69, 101, 0.18);
      --purple: #7c5cbf;
      --font-hd: 'Bricolage Grotesque', -apple-system, sans-serif;
      --font-bd: 'DM Sans', -apple-system, sans-serif;
      --font-mn: 'JetBrains Mono', monospace;
      --r-sm: 6px;
      --r-md: 10px;
      --r-lg: 14px;
      --r-xl: 18px;
      --r-full: 9999px;
      --sh-sm: 0 1px 4px rgba(0, 0, 0, .35);
      --sh-md: 0 4px 16px rgba(0, 0, 0, .45);
      --sh-lg: 0 8px 32px rgba(0, 0, 0, .55);
      --tr: .18s cubic-bezier(.4, 0, .2, 1);
      --tr-s: .28s cubic-bezier(.4, 0, .2, 1);
    }

    *,
    *::before,
    *::after {
      margin: 0;
      padding: 0;
      box-sizing: border-box
    }

    html {
      scroll-behavior: smooth;
      -webkit-font-smoothing: antialiased
    }

    body {
      font-family: var(--font-bd);
      background: var(--c0);
      color: var(--t0);
      min-height: 100vh;
      overflow-x: hidden;
      line-height: 1.6
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background: radial-gradient(ellipse 80% 60% at 15% 20%, rgba(30, 184, 208, .06) 0%, transparent 55%), radial-gradient(ellipse 60% 50% at 85% 75%, rgba(37, 99, 196, .07) 0%, transparent 55%);
      pointer-events: none;
      z-index: 0
    }

    svg.ic {
      display: inline-block;
      vertical-align: middle;
      flex-shrink: 0
    }

    /* ── LAYOUT ── */
    .wrap {
      max-width: 1420px;
      margin: 0 auto;
      padding: 24px;
      position: relative;
      z-index: 1
    }

    /* ── HEADER ── */
    .hdr {
      background: rgba(15, 25, 35, .88);
      backdrop-filter: blur(24px) saturate(160%);
      border-bottom: 1px solid var(--br0);
      padding: 0;
      position: sticky;
      top: 0;
      z-index: 200;
      box-shadow: 0 2px 12px rgba(0, 0, 0, .4)
    }

    .hdr-in {
      max-width: 1420px;
      margin: 0 auto;
      padding: 0 24px;
      height: 62px;
      display: flex;
      align-items: center;
      justify-content: space-between
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 11px;
      font-family: var(--font-hd);
      font-size: 1.15rem;
      font-weight: 700;
      letter-spacing: -.02em;
      cursor: default;
      user-select: none
    }

    .logo-ic {
      width: 38px;
      height: 38px;
      background: linear-gradient(135deg, var(--cyan), var(--blue));
      border-radius: var(--r-md);
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 18px var(--cyan-gl), var(--sh-sm)
    }

    .hdr-r {
      display: flex;
      align-items: center;
      gap: 10px
    }

    #hdrUser {
      color: var(--t1);
      font-size: .8125rem;
      font-family: var(--font-mn);
      font-weight: 500;
      padding: 6px 12px;
      background: var(--c2);
      border: 1px solid var(--br0);
      border-radius: var(--r-md);
      transition: var(--tr)
    }

    #hdrUser:hover {
      color: var(--t0);
      border-color: var(--cyan);
      background: var(--c3)
    }

    /* ── CARDS ── */
    .card {
      background: var(--c1);
      border: 1px solid var(--br0);
      border-radius: var(--r-xl);
      padding: 22px;
      margin-bottom: 20px;
      transition: border-color var(--tr-s), box-shadow var(--tr-s);
      position: relative;
      overflow: hidden
    }

    .card:hover {
      border-color: var(--br1)
    }

    .card::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(30, 184, 208, .3), transparent);
      opacity: 0;
      transition: opacity var(--tr-s)
    }

    .card:hover::after {
      opacity: 1
    }

    .ch {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 18px;
      padding-bottom: 14px;
      border-bottom: 1px solid var(--br0)
    }

    .ct {
      font-family: var(--font-hd);
      font-size: 1rem;
      font-weight: 600;
      letter-spacing: -.01em;
      display: flex;
      align-items: center;
      gap: 9px
    }

    .ct-ic {
      width: 30px;
      height: 30px;
      border-radius: var(--r-sm);
      display: flex;
      align-items: center;
      justify-content: center
    }

    .ct-ic.cyan {
      background: var(--cyan-gl);
      color: var(--cyan)
    }

    .ct-ic.blue {
      background: var(--blue-gl);
      color: var(--cyan)
    }

    .ct-ic.green {
      background: var(--green-gl);
      color: var(--green)
    }

    .ct-ic.amber {
      background: var(--amber-gl);
      color: var(--amber)
    }

    .ct-ic.red {
      background: var(--red-gl);
      color: var(--red)
    }

    .ct-ic.purple {
      background: rgba(124, 92, 191, .18);
      color: var(--purple)
    }

    /* ── TABS ── */
    .tabs {
      display: flex;
      gap: 4px;
      background: var(--c2);
      padding: 4px;
      border-radius: var(--r-lg);
      margin-bottom: 22px;
      border: 1px solid var(--br0)
    }

    .tab {
      flex: 1;
      padding: 10px 16px;
      background: transparent;
      border: none;
      border-radius: var(--r-md);
      color: var(--t2);
      font-weight: 600;
      font-size: .9rem;
      cursor: pointer;
      transition: all var(--tr-s);
      font-family: var(--font-hd);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 7px
    }

    .tab:hover:not(.on) {
      color: var(--t0);
      background: var(--c3)
    }

    .tab.on {
      background: linear-gradient(135deg, var(--cyan2), var(--blue2));
      color: #fff;
      box-shadow: 0 0 16px var(--cyan-gl), var(--sh-sm)
    }

    /* ── FORMS ── */
    .fg {
      margin-bottom: 16px
    }

    label {
      display: block;
      margin-bottom: 6px;
      color: var(--t1);
      font-size: .75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: .06em;
      font-family: var(--font-hd)
    }

    .inp-wrap {
      position: relative
    }

    .inp-ic {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--t2);
      pointer-events: none;
      transition: color var(--tr)
    }

    .inp-wrap input,
    .inp-wrap textarea,
    .inp-wrap select {
      padding-left: 40px
    }

    input,
    textarea,
    select {
      width: 100%;
      padding: 11px 14px;
      background: var(--c2);
      border: 1px solid var(--br0);
      border-radius: var(--r-md);
      color: var(--t0);
      font-size: .9375rem;
      font-family: var(--font-bd);
      transition: all var(--tr-s);
      box-shadow: inset 0 1px 3px rgba(0, 0, 0, .2)
    }

    input::placeholder,
    textarea::placeholder {
      color: var(--t3)
    }

    input:focus,
    textarea:focus,
    select:focus {
      outline: none;
      border-color: var(--cyan);
      background: var(--c3);
      box-shadow: 0 0 0 3px var(--cyan-gl), inset 0 1px 3px rgba(0, 0, 0, .2)
    }

    .inp-wrap input:focus~.inp-ic,
    .inp-wrap textarea:focus~.inp-ic,
    .inp-wrap select:focus+.inp-ic,
    .inp-wrap:focus-within .inp-ic {
      color: var(--cyan)
    }

    textarea {
      resize: vertical;
      min-height: 110px;
      line-height: 1.6;
      padding-top: 12px
    }

    select {
      cursor: pointer;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%235a7096' d='M6 9L1 4h10z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 12px center;
      padding-right: 36px
    }

    .pwd-wrap {
      position: relative
    }

    .pwd-wrap input {
      padding-right: 44px
    }

    .pwd-toggle {
      position: absolute;
      right: 12px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--t2);
      cursor: pointer;
      padding: 4px;
      border-radius: 4px;
      width: auto;
      box-shadow: none;
      transition: color var(--tr)
    }

    .pwd-toggle:hover {
      color: var(--cyan)
    }

    /* ── BUTTONS ── */
    button {
      padding: 10px 18px;
      border: none;
      border-radius: var(--r-md);
      font-size: .9rem;
      font-weight: 600;
      font-family: var(--font-hd);
      cursor: pointer;
      transition: all var(--tr-s);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 7px;
      box-shadow: var(--sh-sm)
    }

    .bp {
      background: linear-gradient(135deg, var(--cyan), var(--blue2));
      color: #fff;
      border: 1px solid transparent
    }

    .bp:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: var(--sh-md), 0 0 18px var(--cyan-gl)
    }

    .bs {
      background: linear-gradient(135deg, var(--green), #1aa864);
      color: #fff;
      border: 1px solid transparent
    }

    .bs:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: var(--sh-md), 0 0 18px var(--green-gl)
    }

    .bd {
      background: linear-gradient(135deg, var(--red), #d43060);
      color: #fff;
      border: 1px solid transparent
    }

    .bd:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: var(--sh-md), 0 0 16px var(--red-gl)
    }

    .bg {
      background: var(--c2);
      color: var(--t0);
      border: 1px solid var(--br1)
    }

    .bg:hover:not(:disabled) {
      color: var(--cyan);
      border-color: var(--cyan);
      background: var(--c3);
      transform: translateY(-1px)
    }

    .bfull {
      width: 100%
    }

    .bsm {
      padding: 6px 13px;
      font-size: .8125rem
    }

    button:disabled {
      opacity: .4;
      cursor: not-allowed;
      transform: none !important
    }

    button:active:not(:disabled) {
      transform: translateY(0) !important
    }

    /* ── GRIDS ── */
    .g2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 20px
    }

    .g4 {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px
    }

    /* ── STAT CARDS ── */
    .sc {
      background: var(--c2);
      border: 1px solid var(--br0);
      padding: 20px;
      border-radius: var(--r-lg);
      transition: all var(--tr-s);
      position: relative;
      overflow: hidden
    }

    .sc-line {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      border-radius: 2px 2px 0 0
    }

    .sc:hover {
      border-color: var(--br2);
      transform: translateY(-2px);
      box-shadow: var(--sh-md)
    }

    .sl {
      font-size: .72rem;
      color: var(--t2);
      text-transform: uppercase;
      letter-spacing: .1em;
      margin-bottom: 8px;
      font-weight: 600;
      font-family: var(--font-hd);
      display: flex;
      align-items: center;
      gap: 6px
    }

    .sv {
      font-size: 2.1rem;
      font-weight: 800;
      font-family: var(--font-hd);
      background: linear-gradient(135deg, var(--cyan), #6bb8ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      line-height: 1.1
    }

    /* ── BADGES ── */
    .badge {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 4px 10px;
      border-radius: var(--r-full);
      font-size: .75rem;
      font-weight: 600;
      font-family: var(--font-hd);
      border: 1px solid transparent
    }

    .b-on {
      background: rgba(34, 201, 122, .12);
      color: var(--green);
      border-color: rgba(34, 201, 122, .25)
    }

    .b-off {
      background: rgba(90, 112, 150, .1);
      color: var(--t2);
      border-color: var(--br0)
    }

    .bdot {
      width: 7px;
      height: 7px;
      border-radius: 50%;
      background: currentColor
    }

    .b-on .bdot {
      animation: pulse-dot 2s ease infinite;
      box-shadow: 0 0 6px currentColor
    }

    @keyframes pulse-dot {

      0%,
      100% {
        opacity: 1;
        transform: scale(1)
      }

      50% {
        opacity: .5;
        transform: scale(1.2)
      }
    }

    /* ── NOTIFICATION BELL ── */
    .nbell {
      position: relative;
      cursor: pointer;
      padding: 9px 11px;
      background: var(--c2);
      border: 1px solid var(--br0);
      border-radius: var(--r-md);
      transition: all var(--tr-s);
      color: var(--t1)
    }

    .nbell:hover {
      background: var(--c3);
      border-color: var(--cyan);
      color: var(--cyan);
      box-shadow: 0 0 14px var(--cyan-gl)
    }

    .nbadge {
      position: absolute;
      top: -6px;
      right: -6px;
      min-width: 19px;
      height: 19px;
      background: var(--red);
      border: 2px solid var(--c1);
      border-radius: var(--r-full);
      font-size: .65rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-family: var(--font-hd);
      box-shadow: 0 0 10px var(--red-gl);
      animation: badge-in .4s cubic-bezier(.68, -.55, .265, 1.55)
    }

    @keyframes badge-in {
      from {
        transform: scale(0)
      }

      to {
        transform: scale(1)
      }
    }

    /* ── NOTIFICATION PANEL ── */
    .npanel {
      position: fixed;
      top: 74px;
      right: 20px;
      width: 420px;
      max-height: calc(100vh - 100px);
      background: var(--c1);
      border: 1px solid var(--br1);
      border-radius: var(--r-xl);
      box-shadow: var(--sh-lg), 0 0 30px rgba(0, 0, 0, .4);
      overflow: hidden;
      z-index: 2000;
      display: flex;
      flex-direction: column;
      backdrop-filter: blur(20px)
    }

    .npanel:not(.hidden) {
      animation: panel-in .35s cubic-bezier(.4, 0, .2, 1)
    }

    @keyframes panel-in {
      from {
        opacity: 0;
        transform: translateY(-12px) scale(.97)
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1)
      }
    }

    .nphdr {
      padding: 14px 16px;
      border-bottom: 1px solid var(--br0);
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 700;
      font-size: 1rem;
      font-family: var(--font-hd);
      background: var(--c2)
    }

    .nlist {
      flex: 1;
      overflow-y: auto;
      padding: 6px
    }

    .ni {
      padding: 12px;
      border-radius: var(--r-md);
      cursor: pointer;
      transition: background var(--tr);
      margin-bottom: 4px;
      border-left: 3px solid transparent
    }

    .ni:hover {
      background: var(--c2)
    }

    .ni.unread {
      background: rgba(30, 184, 208, .07);
      border-left-color: var(--cyan)
    }

    .ntime {
      font-size: .72rem;
      color: var(--t2);
      font-family: var(--font-mn);
      margin-bottom: 4px;
      font-weight: 500
    }

    .nmsg {
      font-size: .9rem;
      color: var(--t0);
      word-break: break-word;
      line-height: 1.5
    }

    .rbtn {
      margin-top: 8px;
      padding: 5px 12px;
      background: var(--c3);
      border: 1px solid var(--br1);
      color: var(--cyan);
      border-radius: var(--r-sm);
      font-size: .8rem;
      cursor: pointer;
      font-family: var(--font-hd);
      font-weight: 600;
      transition: all var(--tr);
      display: inline-flex;
      align-items: center;
      gap: 5px;
      box-shadow: none
    }

    .rbtn:hover {
      background: var(--cyan);
      color: #fff;
      border-color: var(--cyan);
      transform: none
    }

    /* ── TOASTS ── */
    .tc {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 3000;
      display: flex;
      flex-direction: column;
      gap: 10px;
      max-width: 390px;
      pointer-events: none
    }

    .toast {
      background: var(--c1);
      border: 1px solid var(--br1);
      border-radius: var(--r-lg);
      padding: 14px 16px;
      box-shadow: var(--sh-lg);
      display: flex;
      gap: 12px;
      pointer-events: auto;
      animation: toast-in .32s cubic-bezier(.4, 0, .2, 1);
      border-left: 3px solid;
      transition: opacity .25s
    }

    .toast.audit {
      border-left-color: var(--cyan);
      box-shadow: var(--sh-lg), 0 0 20px var(--cyan-gl)
    }

    .toast.success {
      border-left-color: var(--green);
      box-shadow: var(--sh-lg), 0 0 20px var(--green-gl)
    }

    .toast.error {
      border-left-color: var(--red);
      box-shadow: var(--sh-lg), 0 0 20px var(--red-gl)
    }

    .toast.info {
      border-left-color: var(--t1)
    }

    @keyframes toast-in {
      from {
        transform: translateX(60px);
        opacity: 0
      }

      to {
        transform: translateX(0);
        opacity: 1
      }
    }

    .ticon {
      flex-shrink: 0;
      width: 22px;
      height: 22px;
      display: flex;
      align-items: center;
      justify-content: center
    }

    .toast.audit .ticon {
      color: var(--cyan)
    }

    .toast.success .ticon {
      color: var(--green)
    }

    .toast.error .ticon {
      color: var(--red)
    }

    .toast.info .ticon {
      color: var(--t1)
    }

    .tbody {
      flex: 1
    }

    .ttitle {
      font-weight: 700;
      font-size: .9rem;
      margin-bottom: 2px;
      font-family: var(--font-hd)
    }

    .tmsg {
      font-size: .8125rem;
      color: var(--t1);
      line-height: 1.5
    }

    .tcls {
      background: none;
      border: none;
      color: var(--t2);
      cursor: pointer;
      flex-shrink: 0;
      width: auto;
      box-shadow: none;
      padding: 2px;
      border-radius: 4px;
      transition: color var(--tr)
    }

    .tcls:hover {
      color: var(--red);
      transform: none;
      box-shadow: none
    }

    /* ── LOG ── */
    .log {
      background: #07101a;
      border: 1px solid var(--br0);
      border-radius: var(--r-md);
      padding: 10px;
      max-height: 300px;
      overflow-y: auto;
      font-family: var(--font-mn);
      font-size: .78rem
    }

    .log:hover {
      border-color: var(--br1)
    }

    .lr {
      padding: 5px 4px;
      border-bottom: 1px solid rgba(255, 255, 255, .03);
      display: flex;
      gap: 10px;
      border-radius: 4px
    }

    .lr:hover {
      background: var(--c2);
      padding-left: 8px
    }

    .lt {
      color: var(--t3);
      flex-shrink: 0
    }

    .lm {
      color: var(--t1);
      line-height: 1.5
    }

    .l-success .lm {
      color: var(--green)
    }

    .l-error .lm {
      color: var(--red)
    }

    .l-warn .lm {
      color: var(--amber)
    }

    .l-info .lm {
      color: var(--cyan)
    }

    /* ── SEARCH DROP ── */
    .swrap {
      position: relative
    }

    /* DROPDOWN FIX - Z-INDEX AND POINTER EVENTS */
    .sdrop {
      position: absolute;
      top: calc(100% + 6px);
      left: 0;
      right: 0;
      background: var(--c3);
      border: 1px solid var(--br1);
      border-radius: var(--r-md);
      max-height: 260px;
      overflow-y: auto;
      z-index: 1000;
      /* INCREASED FROM 100 */
      box-shadow: var(--sh-lg);
      animation: drop-in .2s var(--tr);
      pointer-events: auto;
      /* EXPLICITLY SET */
    }

    @keyframes drop-in {
      from {
        opacity: 0;
        transform: translateY(-8px)
      }

      to {
        opacity: 1;
        transform: translateY(0)
      }
    }

    .sitem {
      padding: 10px 14px;
      cursor: pointer;
      border-bottom: 1px solid var(--br0);
      transition: background var(--tr);
      pointer-events: auto;
      /* CRITICAL FIX */
      user-select: none;
      /* PREVENT TEXT SELECTION INTERFERING WITH CLICK */
    }

    .sitem:hover {
      background: var(--c4)
    }

    .sitem:last-child {
      border-bottom: none
    }

    /* ── USER TABLE ── */
    .utbl {
      width: 100%;
      border-collapse: collapse
    }

    .utbl th {
      padding: 10px 12px;
      text-align: left;
      font-size: .72rem;
      color: var(--t2);
      text-transform: uppercase;
      letter-spacing: .1em;
      font-weight: 700;
      font-family: var(--font-hd);
      background: var(--c0);
      border-bottom: 1px solid var(--br1);
      position: sticky;
      top: 0;
      z-index: 10
    }

    .utbl td {
      padding: 11px 12px;
      border-bottom: 1px solid var(--br0);
      font-size: .875rem;
      color: var(--t1);
      transition: all var(--tr)
    }

    .utbl tr:hover td {
      background: var(--c2);
      color: var(--t0)
    }

    .uav {
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--cyan2), var(--blue2));
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
      font-weight: 700;
      font-size: .8125rem;
      font-family: var(--font-hd);
      flex-shrink: 0
    }

    /* ── FILE UPLOAD ── */
    .fil {
      display: none
    }

    .flab {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 11px 20px;
      background: linear-gradient(135deg, var(--cyan), var(--blue2));
      color: #fff;
      border-radius: var(--r-md);
      cursor: pointer;
      font-weight: 600;
      font-size: .9rem;
      font-family: var(--font-hd);
      transition: all var(--tr-s);
      box-shadow: var(--sh-sm)
    }

    .flab:hover {
      transform: translateY(-2px);
      box-shadow: var(--sh-md), 0 0 18px var(--cyan-gl)
    }

    /* ── MODAL ── */

    /* Offline Modal Enhancements */
    .mover[role="dialog"] {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal[role="document"] {
      max-height: 90vh;
      overflow-y: auto;
    }

    /* WhatsApp button refinements */
    .wa-btn {
      text-decoration: none;
      transition: all var(--tr-s);
    }

    .wa-btn:active {
      transform: translateY(1px);
    }

    /* Focus states for accessibility */
    .modal button:focus,
    .modal a:focus {
      outline: 2px solid var(--cyan);
      outline-offset: 2px;
    }

    .mover {
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .75);
      backdrop-filter: blur(6px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2001;
      padding: 20px;
      animation: overlay-in .2s ease
    }

    @keyframes overlay-in {
      from {
        opacity: 0
      }

      to {
        opacity: 1
      }
    }

    .modal {
      background: var(--c1);
      border: 1px solid var(--br1);
      border-radius: var(--r-xl);
      padding: 26px;
      width: 100%;
      max-width: 500px;
      box-shadow: var(--sh-lg);
      animation: modal-in .3s cubic-bezier(.34, 1.56, .64, 1);
      max-height: 90vh;
      overflow-y: auto
    }

    @keyframes modal-in {
      from {
        opacity: 0;
        transform: scale(.93) translateY(20px)
      }

      to {
        opacity: 1;
        transform: scale(1) translateY(0)
      }
    }

    .mtitle {
      font-size: 1.2rem;
      font-weight: 700;
      font-family: var(--font-hd);
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px
    }

    .origmsg {
      background: var(--c2);
      border-left: 3px solid var(--cyan);
      border-radius: var(--r-md);
      padding: 12px;
      margin-bottom: 16px;
      font-size: .875rem;
      color: var(--t1);
      line-height: 1.6
    }

    /* ── CHIPS ── */
    .chip {
      display: inline-flex;
      align-items: center;
      gap: 7px;
      padding: 5px 12px;
      background: var(--c2);
      border: 1px solid var(--br0);
      border-radius: var(--r-full);
      font-size: .8125rem;
      font-family: var(--font-mn);
      font-weight: 500;
      transition: all var(--tr)
    }

    .chip:hover {
      border-color: var(--cyan);
      background: var(--c3);
      transform: translateY(-1px)
    }

    /* ── UNREGISTERED USER CARD ── */
    .unreg-card {
      background: var(--c2);
      border: 1px solid var(--br0);
      border-radius: var(--r-lg);
      padding: 14px 16px;
      margin-bottom: 10px;
      transition: border-color var(--tr)
    }

    .unreg-card:hover {
      border-color: var(--br2)
    }

    .unreg-name {
      font-weight: 600;
      color: var(--t0);
      font-family: var(--font-hd);
      font-size: .9375rem;
      margin-bottom: 6px
    }

    .unreg-meta {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 10px
    }

    .unreg-pill {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      padding: 3px 10px;
      border-radius: var(--r-full);
      font-size: .75rem;
      font-weight: 500;
      font-family: var(--font-hd)
    }

    .pill-floor {
      background: rgba(37, 99, 196, .15);
      color: #6bb8ff;
      border: 1px solid rgba(37, 99, 196, .3)
    }

    .pill-phone {
      background: rgba(34, 201, 122, .12);
      color: var(--green);
      border: 1px solid rgba(34, 201, 122, .25)
    }

    .pill-wa {
      background: rgba(37, 211, 102, .12);
      color: #25d366;
      border: 1px solid rgba(37, 211, 102, .25)
    }

    .wa-btn {
      display: inline-flex;
      align-items: center;
      gap: 7px;
      padding: 8px 16px;
      background: #25d366;
      color: #fff;
      border: none;
      border-radius: var(--r-md);
      font-size: .8125rem;
      font-weight: 600;
      font-family: var(--font-hd);
      cursor: pointer;
      transition: all var(--tr-s);
      box-shadow: var(--sh-sm);
      text-decoration: none
    }

    .wa-btn:hover {
      background: #1aa851;
      transform: translateY(-1px);
      box-shadow: var(--sh-md), 0 0 14px rgba(37, 211, 102, .3)
    }

    /* ── IMPORT RESULTS ── */
    .import-results {
      margin-top: 16px
    }

    .import-tabs {
      display: flex;
      gap: 4px;
      background: var(--c2);
      padding: 3px;
      border-radius: var(--r-md);
      margin-bottom: 12px;
      border: 1px solid var(--br0)
    }

    .import-tab {
      flex: 1;
      padding: 7px;
      background: transparent;
      border: none;
      border-radius: var(--r-sm);
      color: var(--t2);
      font-size: .8rem;
      font-weight: 600;
      cursor: pointer;
      font-family: var(--font-hd);
      transition: all var(--tr);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 5px
    }

    .import-tab.active {
      background: var(--c3);
      color: var(--t0);
      border: 1px solid var(--br1)
    }

    /* ── PERMISSION BANNER ── */
    #permBanner {
      display: none;
      background: rgba(245, 158, 58, .08);
      border: 1px solid rgba(245, 158, 58, .3);
      border-left: 3px solid var(--amber);
      padding: 12px 16px;
      border-radius: var(--r-lg);
      margin-bottom: 20px;
      align-items: center;
      justify-content: space-between;
      gap: 12px
    }

    /* ── DIVIDER ── */
    .divider {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 16px 0;
      color: var(--t3);
      font-size: .75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: .08em
    }

    .divider::before,
    .divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--br0)
    }

    /* ── SCROLLBAR ── */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px
    }

    ::-webkit-scrollbar-track {
      background: var(--c2);
      border-radius: 3px
    }

    ::-webkit-scrollbar-thumb {
      background: var(--br2);
      border-radius: 3px
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--cyan2)
    }

    /* ── UTIL ── */
    .hidden {
      display: none !important
    }

    ::selection {
      background: var(--cyan-gl);
      color: var(--t0)
    }

    *:focus-visible {
      outline: 2px solid var(--cyan);
      outline-offset: 2px;
      border-radius: 4px
    }

    @media(prefers-reduced-motion:reduce) {

      *,
      *::before,
      *::after {
        animation-duration: .01ms !important;
        transition-duration: .01ms !important
      }
    }

    @media(max-width:900px) {

      .g2,
      .g4 {
        grid-template-columns: 1fr
      }

      .wrap {
        padding: 14px
      }
    }

    @media(max-width:600px) {
      #hdrUser {
        display: none
      }

      .npanel {
        width: calc(100% - 28px);
        right: 14px
      }

      .tc {
        right: 14px;
        left: 14px;
        max-width: none
      }
    }
  </style>
</head>

<body>

  <!-- HEADER -->
  <div class="hdr">
    <div class="hdr-in">
      <div class="logo">
        <div class="logo-ic">
          <svg class="ic" width="20" height="20">
            <use href="#ic-shield" />
          </svg>
        </div>
        <span>Audit Notification System</span>
      </div>
      <div class="hdr-r" id="hdrR" style="display:none">
        <span id="hdrUser"></span>
        <div class="nbell" onclick="togglePanel()" title="Notifications">
          <svg class="ic" width="18" height="18">
            <use href="#ic-bell" />
          </svg>
          <span class="nbadge hidden" id="nbadge">0</span>
        </div>
        <button class="bg bsm" onclick="logout()" title="Logout">
          <svg class="ic" width="15" height="15">
            <use href="#ic-logout" />
          </svg> Logout
        </button>
      </div>
    </div>
  </div>

  <!-- NOTIFICATION PANEL -->
  <div class="npanel hidden" id="npanel">
    <div class="nphdr">
      <span>Notifications</span>
      <button class="bg bsm" onclick="clearNotifs()">
        <svg class="ic" width="13" height="13">
          <use href="#ic-x" />
        </svg> Clear All
      </button>
    </div>
    <div class="nlist" id="nlist">
      <div style="padding:40px;text-align:center;color:var(--t2)">No notifications yet</div>
    </div>
  </div>

  <!-- TOASTS -->
  <div class="tc" id="tc"></div>

  <div class="wrap">

    <!-- AUTH SECTION -->
    <div id="authSec">
      <div class="card" style="max-width:460px;margin:70px auto">
        <div style="text-align:center;margin-bottom:22px">
          <div
            style="width:56px;height:56px;background:linear-gradient(135deg,var(--cyan),var(--blue2));border-radius:14px;display:flex;align-items:center;justify-content:center;margin:0 auto 12px;box-shadow:0 0 24px var(--cyan-gl)">
            <svg class="ic" width="26" height="26" style="color:#fff">
              <use href="#ic-shield" />
            </svg>
          </div>
          <div style="font-family:var(--font-hd);font-size:1.4rem;font-weight:700;letter-spacing:-.02em">Nexus Audit
          </div>
          <div style="color:var(--t2);font-size:.875rem;margin-top:4px">Real-Time Compliance Platform</div>
        </div>
        <div class="tabs">
          <button class="tab on" onclick="swTab('login',this)">
            <svg class="ic" width="15" height="15">
              <use href="#ic-lock" />
            </svg> Login
          </button>
          <button class="tab" onclick="swTab('reg',this)">
            <svg class="ic" width="15" height="15">
              <use href="#ic-user" />
            </svg> Register
          </button>
        </div>
        <!-- LOGIN -->
        <div id="loginTab">
          <div class="fg">
            <label>Gitea Username</label>
            <div class="inp-wrap">
              <input id="lu" type="text" placeholder="your gitea username" autocomplete="username">
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-git" />
              </svg>
            </div>
          </div>
          <div class="fg">
            <label>Password</label>
            <div class="inp-wrap pwd-wrap">
              <input id="lp" type="password" placeholder="Enter password" autocomplete="current-password"
                style="padding-left:40px">
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-lock" />
              </svg>
              <button type="button" class="pwd-toggle" onclick="togglePwd('lp',this)" title="Show password">
                <svg class="ic" width="16" height="16">
                  <use href="#ic-eye" />
                </svg>
              </button>
            </div>
          </div>
          <button class="bp bfull" onclick="login()" style="margin-bottom:12px">
            <svg class="ic" width="16" height="16">
              <use href="#ic-lock" />
            </svg> Sign In
          </button>
          <!-- REPLACE THE EXISTING FORGOT PASSWORD BUTTON WITH THIS -->
          <div class="divider">or</div>
          <div style="display:flex;gap:10px">
            <button class="bg bfull" onclick="showPasscodeReset()" style="font-size:.8125rem">
              <svg class="ic" width="14" height="14">
                <use href="#ic-key" />
              </svg> Reset via Passcode
            </button>
          </div>
        </div>
        <!-- REGISTER -->
        <div id="regTab" class="hidden">
          <div class="fg">
            <label>Full Name</label>
            <div class="inp-wrap">
              <input id="rn" type="text" placeholder="Oh Snap">
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-user" />
              </svg>
            </div>
          </div>
          <div class="fg">
            <label>Gitea Username</label>
            <div class="inp-wrap">
              <input id="ru" type="text" placeholder="your gitea username" autocomplete="username">
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-git" />
              </svg>
            </div>
          </div>
          <div class="fg">
            <label>Email Address</label>
            <div class="inp-wrap">
              <input id="re" type="email" placeholder="you@email.com" autocomplete="email">
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-mail" />
              </svg>
            </div>
          </div>
          <!-- ADD THIS AFTER EMAIL FIELD IN REGISTER TAB -->
          <div class="fg">
            <label>Recovery Passcode</label>
            <div class="inp-wrap">
              <input id="rpc" type="password" placeholder="6 digits" maxlength="6" pattern="[0-9]{6}"
                inputmode="numeric" autocomplete="off"
                style="padding-left:40px;font-family:var(--font-mn);letter-spacing:2px">
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-key" />
              </svg>
            </div>
            <div style="font-size:.75rem;color:var(--t2);margin-top:4px">
              Set a 6-digit code to reset your password incase you get locked out.
              <br>
              <strong style="color:var(--amber)">Use Digits you can rememeber</strong>
            </div>
          </div>
          <div class="fg">
            <label>Password</label>
            <div class="inp-wrap pwd-wrap">
              <input id="rp" type="password" placeholder="Min 6 characters" autocomplete="new-password"
                style="padding-left:40px">
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-lock" />
              </svg>
              <button type="button" class="pwd-toggle" onclick="togglePwd('rp',this)">
                <svg class="ic" width="16" height="16">
                  <use href="#ic-eye" />
                </svg>
              </button>
            </div>
          </div>
          <button class="bs bfull" onclick="register()">
            <svg class="ic" width="16" height="16">
              <use href="#ic-check" />
            </svg> Create Account
          </button>
        </div>
      </div>
    </div>

    <!-- MAIN APP -->
    <div id="appSec" class="hidden">

      <!-- Permission Banner -->
      <div id="permBanner">
        <div style="display:flex;align-items:center;gap:10px;font-size:.875rem">
          <svg class="ic" width="18" height="18" style="color:var(--amber)">
            <use href="#ic-bell" />
          </svg>
          Enable desktop notifications to receive instant audit alerts
        </div>
        <button class="bp bsm" onclick="reqPerm()">
          <svg class="ic" width="14" height="14">
            <use href="#ic-check" />
          </svg> Enable
        </button>
      </div>

      <!-- STATS ROW -->
      <div class="g4" style="margin-bottom:20px">
        <div class="sc">
          <div class="sc-line" style="background:linear-gradient(90deg,var(--cyan),var(--blue))"></div>
          <div class="sl"><svg class="ic" width="13" height="13">
              <use href="#ic-wifi" />
            </svg> Online</div>
          <div class="sv" id="sOn">0</div>
        </div>
        <div class="sc">
          <div class="sc-line" style="background:linear-gradient(90deg,var(--blue),var(--purple))"></div>
          <div class="sl"><svg class="ic" width="13" height="13">
              <use href="#ic-users" />
            </svg> Total Users</div>
          <div class="sv" id="sTot">0</div>
        </div>
        <div class="sc">
          <div class="sc-line" style="background:linear-gradient(90deg,var(--green),var(--cyan))"></div>
          <div class="sl"><svg class="ic" width="13" height="13">
              <use href="#ic-send" />
            </svg> Audits Sent</div>
          <div class="sv" id="sAud">0</div>
        </div>
        <div class="sc" id="scFb" style="display:none">
          <div class="sc-line" style="background:linear-gradient(90deg,var(--amber),var(--red))"></div>
          <div class="sl"><svg class="ic" width="13" height="13">
              <use href="#ic-clipboard" />
            </svg> Pending Feedback</div>
          <div class="sv" id="sFb">0</div>
        </div>
      </div>

      <!-- CONNECTION + ONLINE USERS -->
      <div class="g2">
        <div class="card">
          <div class="ch">
            <div class="ct">
              <div class="ct-ic cyan"><svg class="ic" width="16" height="16">
                  <use href="#ic-wifi" />
                </svg></div>
              Connection
            </div>
            <span class="badge b-off" id="cbadge"><span class="bdot"></span><span id="ctext">Offline</span></span>
          </div>
          <button id="cbtn" class="bp bfull" onclick="connectWS()">
            <svg class="ic" width="16" height="16">
              <use href="#ic-wifi" />
            </svg> Connect
          </button>
        </div>
        <div class="card">
          <div class="ch">
            <div class="ct">
              <div class="ct-ic blue"><svg class="ic" width="16" height="16">
                  <use href="#ic-users" />
                </svg></div>
              Online Now
            </div>
          </div>
          <div style="display:flex;flex-wrap:wrap;gap:8px;min-height:32px" id="chips">
            <span style="color:var(--t2);font-size:.875rem">No users online</span>
          </div>
        </div>
      </div>

      <!-- SEND AUDIT -->
      <div id="auditCard" class="card hidden">
        <div class="ch">
          <div class="ct">
            <div class="ct-ic cyan"><svg class="ic" width="16" height="16">
                <use href="#ic-send" />
              </svg></div>
            Send Audit Request
          </div>
        </div>
        <div class="g2">
          <div class="fg swrap">
            <label>Target User</label>
            <div class="inp-wrap">
              <input id="tUser" type="text" placeholder="Search by gitea username or name…" autocomplete="off"
                oninput="srchUsers(this.value)" onfocus="srchUsers(this.value)" style="padding-left:40px">
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-search" />
              </svg>
            </div>
            <div id="sdrop" class="sdrop hidden"></div>
          </div>
          <div class="fg">
            <label>Audit Details</label>
            <div class="inp-wrap">
              <input id="aDetail" type="text" placeholder="Describe what needs auditing…" style="padding-left:40px">
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-clipboard" />
              </svg>
            </div>
          </div>
        </div>
        <button class="bs bfull" onclick="sendAudit()">
          <svg class="ic" width="16" height="16">
            <use href="#ic-send" />
          </svg> Send Audit Request
        </button>
      </div>

      <!-- FEEDBACK FORM (non-admin) -->
      <div id="fbForm" class="card">
        <div class="ch">
          <div class="ct">
            <div class="ct-ic purple"><svg class="ic" width="16" height="16">
                <use href="#ic-message" />
              </svg></div>
            Send Feedback
          </div>
        </div>
        <div class="g2">
          <div class="fg">
            <label>Type</label>
            <div class="inp-wrap">
              <select id="fbT" style="padding-left:40px">
                <option value="bug">Bug Report</option>
                <option value="feature">Feature Request</option>
                <option value="general">General Feedback</option>
              </select>
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-filter" />
              </svg>
            </div>
          </div>
          <div class="fg">
            <label>Subject</label>
            <div class="inp-wrap">
              <input id="fbS" type="text" placeholder="Brief description…" style="padding-left:40px">
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-clipboard" />
              </svg>
            </div>
          </div>
        </div>
        <div class="fg">
          <label>Message</label>
          <textarea id="fbM" placeholder="Describe your feedback in detail…"></textarea>
        </div>
        <button class="bs bfull" onclick="submitFb()">
          <svg class="ic" width="16" height="16">
            <use href="#ic-send" />
          </svg> Submit Feedback
        </button>
      </div>

      <!-- ===== ADMIN ONLY ===== -->

      <!-- IMPORT USERS -->
      <div id="importCard" class="card hidden">
        <div class="ch">
          <div class="ct">
            <div class="ct-ic cyan"><svg class="ic" width="16" height="16">
                <use href="#ic-upload" />
              </svg></div>
            Import Users from Excel
          </div>
        </div>
        <div
          style="background:var(--c2);border:1px solid var(--br0);border-radius:var(--r-md);padding:14px 16px;margin-bottom:16px;font-size:.875rem;color:var(--t1);line-height:1.7">
          <strong style="color:var(--t0);display:block;margin-bottom:6px">Expected Excel Columns:</strong>
          <div style="display:flex;flex-wrap:wrap;gap:8px">
            <span
              style="background:var(--c3);border:1px solid var(--br1);padding:2px 10px;border-radius:4px;font-family:var(--font-mn);font-size:.78rem">A:
              First Name</span>
            <span
              style="background:var(--c3);border:1px solid var(--br1);padding:2px 10px;border-radius:4px;font-family:var(--font-mn);font-size:.78rem">B:
              Last Name</span>
            <span
              style="background:var(--c3);border:1px solid var(--br1);padding:2px 10px;border-radius:4px;font-family:var(--font-mn);font-size:.78rem">C:
              Gitea Username</span>
            <span
              style="background:rgba(37,99,196,.15);border:1px solid rgba(37,99,196,.3);padding:2px 10px;border-radius:4px;font-family:var(--font-mn);font-size:.78rem;color:#6bb8ff">D:
              Phone (optional)</span>
            <span
              style="background:rgba(37,99,196,.15);border:1px solid rgba(37,99,196,.3);padding:2px 10px;border-radius:4px;font-family:var(--font-mn);font-size:.78rem;color:#6bb8ff">E:
              Floor (optional)</span>
          </div>
          <div style="margin-top:8px;color:var(--t2);font-size:.8rem">Users without a Gitea account will appear as
            <strong style="color:var(--amber)">Unregistered</strong> — with WhatsApp invite option and floor location.
          </div>
        </div>
        <div style="text-align:center;padding:10px">
          <input type="file" id="xlFile" class="fil" accept=".xlsx,.xls" onchange="importUsers()">
          <label for="xlFile" class="flab">
            <svg class="ic" width="17" height="17">
              <use href="#ic-upload" />
            </svg> Choose Excel File
          </label>
          <div id="impSt" style="margin-top:12px;font-size:.875rem"></div>
        </div>
        <div id="importResults" class="import-results hidden"></div>
      </div>

      <!-- BROADCAST -->
      <div id="bcCard" class="card hidden">
        <div class="ch">
          <div class="ct">
            <div class="ct-ic amber"><svg class="ic" width="16" height="16">
                <use href="#ic-radio" />
              </svg></div>
            Broadcast Message
          </div>
        </div>
        <div class="g2">
          <div class="fg">
            <label>Target Audience</label>
            <div class="inp-wrap">
              <select id="bcTarget" style="padding-left:40px">
                <option value="online">Online Users Only</option>
                <option value="all">All Registered Users</option>
              </select>
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-users" />
              </svg>
            </div>
          </div>
          <div class="fg">
            <label>Message</label>
            <div class="inp-wrap">
              <input id="bcMsg" type="text" placeholder="Type your announcement…" style="padding-left:40px">
              <svg class="ic inp-ic" width="16" height="16">
                <use href="#ic-radio" />
              </svg>
            </div>
          </div>
        </div>
        <button class="bp bfull" onclick="sendBroadcast()">
          <svg class="ic" width="16" height="16">
            <use href="#ic-radio" />
          </svg> Send Broadcast
        </button>
      </div>

      <!-- USER MANAGEMENT -->
      <div id="userCard" class="card hidden">
        <div class="ch">
          <div class="ct">
            <div class="ct-ic blue"><svg class="ic" width="16" height="16">
                <use href="#ic-users" />
              </svg></div>
            User Management
          </div>
          <div style="display:flex;gap:8px">
            <button class="bg bsm" onclick="loadUsers()">
              <svg class="ic" width="13" height="13">
                <use href="#ic-refresh" />
              </svg> Refresh
            </button>
            <button class="bs bsm" onclick="exportCSV()">
              <svg class="ic" width="13" height="13">
                <use href="#ic-download" />
              </svg> Export CSV
            </button>
          </div>
        </div>
        <div style="display:flex;gap:10px;margin-bottom:12px">
          <div class="inp-wrap" style="flex:1">
            <input id="uSrch" type="text" placeholder="Search by name, username or email…"
              oninput="filterUsers(this.value)" style="padding-left:40px">
            <svg class="ic inp-ic" width="16" height="16">
              <use href="#ic-search" />
            </svg>
          </div>
          <div class="inp-wrap" style="width:155px">
            <select id="uFilter" onchange="filterUsers()" style="padding-left:36px">
              <option value="all">All Users</option>
              <option value="online">Online Only</option>
              <option value="offline">Offline Only</option>
            </select>
            <svg class="ic inp-ic" width="14" height="14">
              <use href="#ic-filter" />
            </svg>
          </div>
        </div>
        <div
          style="display:flex;gap:24px;background:var(--c2);padding:10px 16px;border-radius:var(--r-md);margin-bottom:14px;border:1px solid var(--br0)">
          <span style="font-size:.8125rem;color:var(--t1);display:flex;align-items:center;gap:6px">
            <svg class="ic" width="13" height="13" style="color:var(--t2)">
              <use href="#ic-users" />
            </svg>
            Total: <strong id="uTot" style="color:var(--t0)">0</strong>
          </span>
          <span style="font-size:.8125rem;color:var(--t1);display:flex;align-items:center;gap:6px">
            <span style="width:7px;height:7px;border-radius:50%;background:var(--green);display:inline-block"></span>
            Online: <strong id="uOn" style="color:var(--green)">0</strong>
          </span>
          <span style="font-size:.8125rem;color:var(--t1);display:flex;align-items:center;gap:6px">
            <svg class="ic" width="13" height="13" style="color:var(--cyan)">
              <use href="#ic-trending" />
            </svg>
            New Today: <strong id="uNew" style="color:var(--cyan)">0</strong>
          </span>
        </div>
        <div style="max-height:480px;overflow-y:auto;border:1px solid var(--br0);border-radius:var(--r-md)">
          <table class="utbl">
            <thead>
              <tr>
                <th>User</th>
                <th>Email</th>
                <th>Status</th>
                <th>Joined</th>
                <th>Last Login</th>
                <th style="text-align:center">Actions</th>
              </tr>
            </thead>
            <tbody id="uBody">
              <tr>
                <td colspan="6" style="text-align:center;padding:40px;color:var(--t2)">Loading…</td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <!-- FEEDBACK MANAGEMENT -->
      <div id="fbMgmt" class="card hidden">
        <div class="ch">
          <div class="ct">
            <div class="ct-ic purple"><svg class="ic" width="16" height="16">
                <use href="#ic-message" />
              </svg></div>
            Feedback Management
          </div>
          <div style="display:flex;gap:8px;align-items:center">
            <div class="inp-wrap" style="width:auto">
              <select id="fbFilt" onchange="loadFeedback()" style="padding:7px 30px 7px 34px;font-size:.8rem">
                <option value="all">All Types</option>
                <option value="bug">Bugs</option>
                <option value="feature">Features</option>
                <option value="general">General</option>
              </select>
              <svg class="ic inp-ic" width="13" height="13">
                <use href="#ic-filter" />
              </svg>
            </div>
            <button class="bg bsm" onclick="loadFeedback()">
              <svg class="ic" width="13" height="13">
                <use href="#ic-refresh" />
              </svg> Refresh
            </button>
          </div>
        </div>
        <div id="fbList" style="max-height:420px;overflow-y:auto"></div>
      </div>

      <!-- SYSTEM ANALYTICS -->
      <div id="statsCard" class="card hidden">
        <div class="ch">
          <div class="ct">
            <div class="ct-ic green"><svg class="ic" width="16" height="16">
                <use href="#ic-trending" />
              </svg></div>
            System Analytics
          </div>
          <button class="bg bsm" onclick="loadStats()">
            <svg class="ic" width="13" height="13">
              <use href="#ic-refresh" />
            </svg> Refresh
          </button>
        </div>
        <div class="g4">
          <div class="sc">
            <div class="sc-line" style="background:linear-gradient(90deg,var(--cyan),var(--blue))"></div>
            <div class="sl"><svg class="ic" width="12" height="12">
                <use href="#ic-users" />
              </svg> Total Users</div>
            <div class="sv" id="stU">0</div>
          </div>
          <div class="sc">
            <div class="sc-line" style="background:linear-gradient(90deg,var(--green),var(--cyan))"></div>
            <div class="sl"><svg class="ic" width="12" height="12">
                <use href="#ic-wifi" />
              </svg> Online Now</div>
            <div class="sv" id="stO">0</div>
          </div>
          <div class="sc">
            <div class="sc-line" style="background:linear-gradient(90deg,var(--blue),var(--purple))"></div>
            <div class="sl"><svg class="ic" width="12" height="12">
                <use href="#ic-send" />
              </svg> Total Audits</div>
            <div class="sv" id="stA">0</div>
          </div>
          <div class="sc">
            <div class="sc-line" style="background:linear-gradient(90deg,var(--amber),var(--red))"></div>
            <div class="sl"><svg class="ic" width="12" height="12">
                <use href="#ic-clipboard" />
              </svg> Pending Feedback</div>
            <div class="sv" id="stF">0</div>
          </div>
        </div>
      </div>

      <!-- ACTIVITY LOG -->
      <div class="card">
        <div class="ch">
          <div class="ct">
            <div class="ct-ic amber"><svg class="ic" width="16" height="16">
                <use href="#ic-terminal" />
              </svg></div>
            Activity Log
          </div>
          <button class="bg bsm" onclick="document.getElementById('logBox').innerHTML=''">
            <svg class="ic" width="13" height="13">
              <use href="#ic-x" />
            </svg> Clear
          </button>
        </div>
        <div class="log" id="logBox">
          <div class="lr l-info"><span class="lt">[SYSTEM]</span><span class="lm">Nexus Audit ready</span></div>
        </div>
      </div>

    </div>
  </div>
</body>
</html>